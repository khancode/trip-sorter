<!DOCTYPE html>
<html lang="en" ng-app="tripSorter">
<head>
    <meta charset="UTF-8">
    <title>TripSorter</title>
    <!-- jQuery -->
    <script src="assets/libs/jquery/dist/jquery.min.js"></script>
    <!-- bootstrap -->
    <link href="assets/libs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="assets/libs/bootstrap/dist/css/bootstrap-theme.css" rel="stylesheet"/>
    <script src="assets/libs/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- angular -->
    <script src="assets/libs/angular/angular.min.js"></script>
    <!-- animate.css-->
    <link href="assets/libs/animate.css/animate.min.css" rel="stylesheet"/>
    <!-- assets -->
    <link href="assets/css/index.css" rel="stylesheet"/>
    <script src="assets/js/min-priority-queue.js"></script>
    <!--<script src="response-json-wrapper.js"></script>-->
    <script src="assets/api_response/response-json-wrapper-corrected.js"></script>
    <!--<script src="response-json-wrapper-example.js"></script>-->
    <script src="assets/js/shortest-path-finder.js"></script>
    <!--<script src="api-response.js"></script>-->
    <!-- project -->
    <script src="app/app.js"></script>
</head>
<body>
    <div id="appContainer">
        <div id="formContainer" ng-controller="mainController" class="panel panel-info componentContainer">
            <div class="panel-heading">
                <h3 id="formTitle" class="panel-title">TripSorter</h3>
            </div>

            <div id="searchFormContainer" class="panel-body">
                <div id="fromToCityContainer">
                    <select ng-model="fromCity" id="fromCitySelect" class="form-control">
                        <option value="" selected disabled>From</option>
                        <option ng-repeat="city in cities">{{city}}</option>
                    </select>
                    <select ng-model="toCity" id="toCitySelect" class="form-control">
                        <option value="" selected disabled>To</option>
                        <option ng-repeat="city in cities">{{city}}</option>
                    </select>
                </div>
                <div id="sortingTypesContainer" class="list-group">
                    <button ng-repeat="s in SORTING_TYPES" ng-click="changeSortingType(s)" type="button" ng-class="{ 'active' : sortingType == s }" class="btn list-group-item" style="text-align:center">{{s}}</button>
                </div>
                <div id="searchButtonContainer">
                    <button id="searchButton" ng-click="submitForm()" class="btn btn-success"><span id="searchIcon" class="glyphicon glyphicon-search"></span><span id="searchButtonText">Search</span></button>
                </div>
            </div>

            <div id="searchResultsContainer" class="panel-footer">
                <div class="list-group">
                    <div class="list-group-item searchResult animated flipInX" ng-repeat="trip in trips" ng-class-odd="'oddListGroupItem'">
                        <h4 class="list-group-item-heading">
                            {{trip.departure}} <span class="glyphicon glyphicon-chevron-right"></span> {{trip.arrival}}<span class="tripCostText">{{trip.cost * (1 - (trip.discount *.01))}}&#8364;</span>
                        </h4>
                        <div class="list-group-item-text">
                            <span class="tripInfo">
                                <span class="transportText">{{trip.transport}}</span> <span class="referenceText">{{trip.reference}}</span> for {{trip.duration.h}}h{{trip.duration.m}}
                            </span>
                            <span class="discountContainer" ng-show="trip.discount != 0">
                                <span class="preDiscountCostText">{{trip.cost}}&#8364;</span> <span class="discountPercentageText">{{trip.discount}}% off</span>
                            </span>
                        </div>
                    </div>
                </div>
                <!--<div class="list-group animated fadeIn" ng-show="trips" style="margin: 3% auto">-->
                    <!--<div class="list-group-item" style="background:lightblue">-->
                        <!--<div style="width:50%; float:left"><h3 class="list-group-item-heading"><b>Total</b></h3></div><span style="width:50%; margin-top:5%"><h4 style="display:inline">{{totalTime.h}}h{{totalTime.m}}</h4></span><span style="float:right"><h3 style="display:inline"><b>{{totalCost}}&#8364;</b></h3></span>-->
                    <!--</div>-->
                <!--</div>-->
                <!-- Working code below!!!! -->
                <!--<div class="list-group animated fadeIn" ng-show="trips" style="margin: 3% auto">-->
                    <!--<div class="list-group-item" style="background:lightblue; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: center; align-items: center; flex-basis: auto">-->

                        <!--<span style="text-align: left ;width: 33%"><h3 style="display:inline" class="list-group-item-heading"><b>Total</b></h3></span>-->

                        <!--<span style="text-align: center; width: 33%"><h4 style="display:inline">{{totalTime.h}}h{{totalTime.m}}</h4></span>-->

                        <!--<span style="text-align: right; width: 33%"><h3 style="display:inline"><b>{{totalCost}}&#8364;</b></h3></span>-->

                    <!--</div>-->
                <!--</div>                    -->
                <div class="list-group animated fadeIn" ng-show="trips" style="margin: 3% auto">
                    <div class="list-group-item" style="background:lightblue; display: flex; flex-direction: row; flex-wrap: nowrap; justify-content: center; align-items: center; flex-basis: auto">

                        <span style="text-align: left; font-size:1.25em; width: 33%"><b>Total</b></span>

                        <span style="text-align: center; width: 33%">{{totalTime.h}}h{{totalTime.m}}</span>

                        <span style="text-align: right; font-size:1.25em; width: 33%"><b>{{totalCost}}&#8364;</b></span>

                    </div>
                </div>
            </div>
        </div>
    <!--</div>-->

</body>
</html>